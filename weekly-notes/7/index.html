<html>
<base href="https://balazs.kutilovi.cz/">
<link rel="canonical" href="https://balazs.kutilovi.cz/weekly-notes/7/">

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer">

<title>Weekly notes #7</title>



<style>
body {
  max-width: 620px;
  padding: 2em;
  font-size: 18px;
  line-height: 1.5;
  margin: 1.5em auto;
}

blockquote {
  padding-left: 1.5em;
  border-left: 3px #ddd solid;
}

nav {
  margin: 0 0 1.5em 0;
}

footer {
  margin: 1.5em 0 0 0;
}

p>code, pre, .highlight {
  font-size: 16px;
  border: 1px solid #f0f0f0;
  padding: 0 0.5em;
  overflow-y: scroll;
}
</style>

<body><header>
  <nav>
    <a href="https://balazs.kutilovi.cz/" title="Home">Home</a>
    
    <a href="/posts/" title=""></a>
    
    <a href="/about/" title="">About</a>
    
    <a href="/weekly-notes/" title="">Weekly notes</a>
    
  <nav>
</header>
<main>
    <article>
      <h1> Weekly notes #7 </h1>

      <p>On new hash table implementation in Ruby 2.4 &amp; DB resiliency in presence of filesystem-level errors.
</p>

<p>Ruby, systems, performance, and programming links from last week.</p>

<h2 id="ruby">Ruby</h2>

<p><a href="https://developers.redhat.com/blog/2017/02/27/towards-faster-ruby-hash-tables/">Towards Faster Ruby Hash Tables</a> - how Ruby 2.4 got more performant hash tables by using <a href="https://en.wikipedia.org/wiki/Open_addressing">open addressing</a> and an array for entries instead of doubly linked list. This results in improved data-locality. The <a href="https://bugs.ruby-lang.org/issues/12142">original ticket - Feature #12142: Hash tables with open addressing</a> reads almost like another Ruby-drama :&gt;</p>

<blockquote>
<p>Open Source Software is not a zero-sum game. I think that with the
patches now in Ruby trunk, everybody wins. You win, Vladimir wins,
everybody else wins, and Ruby wins! Thanks again to everybody.</p>
</blockquote>

<p>But it&rsquo;s worth skimming through anyway to see how an initial patch gets gradually improved based on feedback. Koichi Sasada&rsquo;s work on <a href="https://gist.github.com/ko1/dda8243134bc40f7fc05e293abc5f4b2#file-report-md">evaluating CPU and memory performance</a> of competing implementations and <a href="https://gist.github.com/funny-falcon/956a49e77080d5a6d387dfd90d6d06d2">Yura Sokolov&rsquo;s final implementation</a>, which looks even better than the one in the current Ruby trunk, is also worth checking out.</p>

<p><a href="https://mirrors.dotsrc.org/fosdem/2017/K.4.201/ruby_highly_surmountable_challenges_in_ruby_omr_jit_compilation.mp4">Ruby OMR Jit</a> - IBM is developing ORM - a language runtime toolkit and uses Ruby as a testbed for the JIT part, moving MRI towards the &lsquo;3x3&rsquo; goal at the same time. Currently based on top of 2.4, looking for contributors and early adopters.</p>

<h2 id="resiliency-against-disk-i-o-errors">Resiliency against disk I/O errors</h2>

<p><a href="https://blog.acolyer.org/2017/03/08/redundancy-does-not-imply-fault-tolerance-analysis-of-distributed-storage-reactions-to-single-errors-and-corruptions/">Redundancy does not imply fault tolerance</a> - on resiliency against faults on the disk I/O and file system level and how corrupted data can propagate to &lsquo;healthy&rsquo; nodes in distributed storage.</p>

<p><a href="https://blog.acolyer.org/2016/02/11/fs-not-equal/">All File Systems are Not Created Equal: On the Complexity of Crafting Crash Consistent Applications</a> - explores persistence properties of filesystems, then analyzes vulnerabilities (crashes, data inconsistencies) of OSS databases &amp; tools that appear when these properties do not hold.</p>

<p><a href="http://www.zdnet.com/article/data-corruption-is-worse-than-you-know/">Data corruption is worse than you know</a> - some statistics about disk, raid and memory errors from CERN.</p>

<h2 id="articles">Articles</h2>

<p><a href="https://robinpowered.com/blog/best-practice-system-for-organizing-and-tagging-github-issues/">How We Organize GitHub Issues - A Styleguide For Tagging</a> - handy system for organising and tracking issues/feature requests/ideas on GitHub. Useful for open-source software, too.</p>

<p><a href="https://joneaves.wordpress.com/2014/07/21/toy-robot-coding-test/">Toy Robot Coding Puzzle</a> - why certain interview questions never get old (apparently, because of the quality of candidates?)</p>
    </article>
    </main><footer>
  
  <nav>
    
      <a class="basic-alignment" href="https://balazs.kutilovi.cz/weekly-notes/6/">&laquo; Weekly notes #6</a>
    

    
      <a class="basic-alignment" href="https://balazs.kutilovi.cz/weekly-notes/8/">Weekly notes #8 &raquo;</a>
    
  </nav>
  
</footer>
</body>

</html>
