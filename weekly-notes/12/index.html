<html>
<base href="https://balazs.kutilovi.cz/">
<link rel="canonical" href="https://balazs.kutilovi.cz/weekly-notes/12/">

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer">

<title>Weekly notes #12</title>



<style>
body {
  max-width: 620px;
  padding: 2em;
  font-size: 18px;
  line-height: 1.5;
  margin: 1.5em auto;
}

blockquote {
  padding-left: 1.5em;
  border-left: 3px #ddd solid;
}

nav {
  margin: 0 0 1.5em 0;
}

footer {
  margin: 1.5em 0 0 0;
}

p>code, pre, .highlight {
  font-size: 16px;
  border: 1px solid #f0f0f0;
  padding: 0 0.5em;
  overflow-y: scroll;
}
</style>

<body><header>
  <nav>
    <a href="https://balazs.kutilovi.cz/" title="Home">Home</a>
    
    <a href="/posts/" title=""></a>
    
    <a href="/about/" title="">About</a>
    
    <a href="/weekly-notes/" title="">Weekly notes</a>
    
  <nav>
</header>
<main>
    <article>
      <h1> Weekly notes #12 </h1>

      <p>On deserializing <code>InstructionSequence</code>, Ruby-LLVM bindings, and how to critically read papers.
</p>

<p>Ruby, systems, performance, and programming links from last week.</p>

<h2 id="ruby">Ruby</h2>

<p><a href="http://www.atdot.net/yarv/insnstbl.html">YARV: Yet another RubyVM / Instruction Table</a> - In Ruby 1.9, MRI got a <a href="http://www.atdot.net/yarv">new VM</a>, with its own set of instructions. This is the original table and <a href="https://github.com/ruby/ruby/blob/trunk/insns.def">here</a> are the current sources.</p>

<p><a href="https://ruby-doc.org/core-2.2.0/RubyVM/InstructionSequence.html">Class: RubyVM::InstructionSequence</a> - the official documentation.</p>

<p><a href="http://stackoverflow.com/questions/30562292/how-can-i-store-and-read-a-rubyvminstructionsequence">How can I store and read a
RubyVM::InstructionSequence?</a>
- The <code>InstructionSequence</code> API only returns the compiled bytecode by default, so a small hack using
<a href="https://ruby-doc.org/stdlib-2.4.0/libdoc/fiddle/rdoc/Fiddle/Handle.html">Fiddle::Handle</a>,
<a href="https://ruby-doc.org/stdlib-2.4.0/libdoc/fiddle/rdoc/Fiddle/Function.html">Fiddle::Function</a>,
and <a href="https://ruby-doc.org/stdlib-2.4.0/libdoc/fiddle/rdoc/Fiddle.html#method-c-dlwrap">Fiddle.dlwrap</a> is required to expose <code>rb_iseq_load</code> that can load it
back as well. There&rsquo;s a <a href="https://github.com/dhedlund/injectus">skeleton implementation</a> of this idea, too.</p>

<p><a href="http://kgrz.io/ruby-trace-leave-oh-my.html">Ruby, Trace, Leave, Oh my!</a> - how trace instruction and events work and how to compile the code without them.</p>

<p><a href="http://timetobleed.com/rewrite-your-ruby-vm-at-runtime-to-hot-patch-useful-features/">Rewrite your Ruby VM at runtime to hot patch useful features</a> - Patching trampolines into the binary to trace calls to <code>ruby_newobj</code>.</p>

<p><a href="https://github.com/ruby-llvm/ruby-llvm">Ruby bindings to LLVM</a> - Ruby bindings into the LLVM toolchain.</p>

<p>Two interesting (partial) implementations of Ruby, one current, one older:</p>

<p><a href="https://github.com/goruby/goruby">GoRuby, an implementation of Ruby written in Go</a></p>

<p><a href="http://code.macournoyer.com/tinyrb/">TinyRB</a></p>

<h2 id="articles">Articles</h2>

<p><a href="http://www.flyingmachinestudios.com/programming/learn-programming-languages-efficiently/">Learn programming languages efficiently</a> - By setting goals, doing exercises, tests and using spaced repetition.</p>

<p><a href="http://timetobleed.com/how-do-debuggers-keep-track-of-the-threads-in-your-program/">How do debuggers keep track of the threads in your program?</a></p>

<p><a href="http://tomasp.net/blog/2017/papers-we-scrutinize/">Papers we Scrutinize: How to critically read papers</a> - Tomas Petricek on blindly accepting scientific papers as &lsquo;the truth&rsquo; and on reading papers from a different perspective.</p>
    </article>
    </main><footer>
  
  <nav>
    
      <a class="basic-alignment" href="https://balazs.kutilovi.cz/weekly-notes/11/">&laquo; Weekly notes #11</a>
    

    
      <a class="basic-alignment" href="https://balazs.kutilovi.cz/weekly-notes/13/">Weekly notes #13 &raquo;</a>
    
  </nav>
  
</footer>
</body>

</html>
